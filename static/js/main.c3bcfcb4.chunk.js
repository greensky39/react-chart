(this["webpackJsonpsetvisual-react"]=this["webpackJsonpsetvisual-react"]||[]).push([[0],{43:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(35),i=n.n(r),o=(n(43),n(21)),s=n.n(o),l=n(36),u=n(5),d=n(37),b=n(38),j=n.n(b),p=n(11),h=n(10),m=n(0);var g,O=function(e){var t=e.GetJsonData,n=Object(a.useState)({size:"",page:""}),c=Object(u.a)(n,2),r=c[0],i=c[1],o=r.size,s=r.page,l=function(e){i(Object(h.a)(Object(h.a)({},r),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(m.jsx)("div",{children:Object(m.jsx)("form",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"data \uc124\uc815"}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:"text",placeholder:"Size",onChange:l,value:r.size,name:"size"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",placeholder:"Page",onChange:l,value:r.page,name:"page"}),Object(m.jsx)("button",{onClick:function(){o=r.size,s=r.page,t(o,s)},children:"\ud14c\uc774\ube14 \ub9cc\ub4e4\uae30"})]})]})})})},x=n(7),v=n(8),f=n(1),y=Object(v.a)(g||(g=Object(x.a)(["\n  border-style: double;\n  border-width: 2px;\n  border-color: black;\n  text-align: center;\n"]))),C=function(e){var t=e.posts,n=e.loading;return Object(f.c)(f.a,{children:[n&&Object(f.b)("div",{children:" loading... "}),Object(f.c)("div",{children:[Object(f.b)("div",{children:Object(f.b)("p",{children:Object(f.b)("b",{children:"Table"})})}),Object(f.c)("table",{css:y,children:[Object(f.b)("thead",{children:Object(f.b)("tr",{children:["row","country_region_code","country_region","region","placeId","date","symptom_abdominal_obesityi"].map((function(e){return Object(f.b)("th",{children:e},e)}))})}),Object(f.b)("tbody",{children:t.map((function(e){return Object(f.c)("tr",{children:[Object(f.b)("td",{children:e.row},e.row),Object(f.b)("td",{children:e.country_region_code}),Object(f.b)("td",{children:e.country_region}),Object(f.b)("td",{children:e.region?null:"null"}),Object(f.b)("td",{children:e.placeId}),Object(f.b)("td",{children:e.date}),Object(f.b)("td",{children:e.symptom_abdominal_obesityi})]})}))})]})]})]})};function P(e){var t=e.name,n=e.data,a=e.onChangeHandler;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("select",{name:t,onChange:function(e){e.preventDefault(),a&&a(e),console.log("e :",e)},children:[Object(m.jsx)("option",{selected:!0,disabled:!0,children:"\uc120\ud0dd"}),n.map((function(e,t){return Object(m.jsx)("option",{value:e.value,children:e.name},"".concat(void 0===e.key?t:e.key))}))]})})}var _=n(6);function A(e){var t=e.data,n=e.selectedColumn,a=c.a.useRef(null);return c.a.useEffect((function(){var e=_.init(a.current),c={xAxis:{data:t.map((function(e){return e[n.xAxisColumn]}))},yAxis:{type:"value"},series:[{data:t.map((function(e){return e[n.yAxisColumn]})),type:"line"}]};""!==n.xAxis&&""!==n.yAxis&&e.setOption(c)}),[t,n]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"echart",id:"main",ref:a,style:{width:"800px",height:"500px"}})})}function w(e){var t=e.data,n=e.selectedColumn,a=c.a.useRef(null);return c.a.useEffect((function(){console.log(t,n);var e=_.init(a.current),c={xAxis:{data:t.map((function(e){return e[n.xAxisColumn]}))},yAxis:{type:"value"},series:[{data:t.map((function(e){return e[n.yAxisColumn]})),type:"bar"}]};""!==n.xAxis&&""!==n.yAxis&&e.setOption(c)}),[t,n]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"echart",id:"main",ref:a,style:{width:"800px",height:"500px"}})})}function k(e){var t=e.data,n=e.selectedColumn,a=e.optProps,r=c.a.useRef(null);return c.a.useEffect((function(){console.log(t,n);var e=_.init(r.current),c={series:[{name:null===a||void 0===a?void 0:a.name,radius:"50%",data:t.map((function(e){return{value:e[n.yAxisColumn],name:e[n.xAxisColumn]}})),type:"pie"}]};""!==n.xAxis&&""!==n.yAxis&&e.setOption(c)}),[t,n,a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"echart",id:"main",ref:r,style:{width:"800px",height:"500px"}})})}var S=n(14);var F=function(e){var t=e.data,n=e.selectedColumn,a={xAxis:{data:t.map((function(e){return e[n.xAxisColumn]}))},yAxis:{type:"value"},series:[{data:t.map((function(e){return e[n.yAxisColumn]})),type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]};return Object(m.jsx)(S.a,{option:a,style:{height:"500px",width:"100%"}})};var I=function(e){var t=e.data,n=e.selectedColumn,a={xAxis:{data:t.map((function(e){return e[n.xAxisColumn]}))},yAxis:{type:"value"},series:[{data:t.map((function(e){return e[n.yAxisColumn]})),type:"line",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]};return Object(m.jsx)(S.a,{option:a,style:{height:"500px",width:"100%"}})};var H,N,L,z,D=function(e){var t=e.data,n=e.selectedColumn,a=e.optProps,c={title:{text:"piechart",subtext:"chart",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:null===a||void 0===a?void 0:a.name,radius:"50%",data:t.map((function(e){return{value:e[n.yAxisColumn],name:e[n.xAxisColumn]}})),type:"pie",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return Object(m.jsx)(S.a,{option:c,style:{height:"500px",width:"100%"}})},M=Object(v.a)(H||(H=Object(x.a)(["\n  margin-left: 100px;\n  width: 50%;\n  height: 50%;\n"]))),B=[{value:"line",name:"\ub77c\uc778 \ucc28\ud2b8"},{value:"bar",name:"\ubc14 \ucc28\ud2b8"},{value:"pie",name:"\ud30c\uc774 \ucc28\ud2b8"},{value:"line2",name:"\ub77c\uc778 \ucc28\ud2b82"},{value:"bar2",name:"\ubc14 \ucc28\ud2b82"},{value:"pie2",name:"\ud30c\uc774 \ucc28\ud2b82"}];function E(e){var t=e.columns,n=e.data,c=Object(a.useState)(B[0]),r=Object(u.a)(c,2),i=r[0],o=r[1],s=Object(a.useState)({xAxisColumn:"",yAxisColumn:""}),l=Object(u.a)(s,2),d=l[0],b=l[1],j=function(e){var n=e.target.options.selectedIndex-1;console.log(n),b((function(a){return console.log(e.target.name),console.log(Object(h.a)(Object(h.a)({},d),{},Object(p.a)({},e.target.name,t[n].accessor))),Object(h.a)(Object(h.a)({},d),{},Object(p.a)({},e.target.name,t[n].accessor))}))};return Object(f.c)(f.a,{children:[Object(f.c)("div",{children:[Object(f.c)("div",{children:[Object(f.b)("span",{children:"Select Chart Type:"}),Object(f.b)(P,{name:"chartType",data:B,onChangeHandler:function(e){console.log(B[e.target.options.selectedIndex]),o(B[e.target.options.selectedIndex-1])}})]}),Object(f.c)("div",{children:[Object(f.b)("span",{children:"Select X Axis:"}),Object(f.b)(P,{name:"xAxisColumn",data:t.map((function(e){return{value:e.accessor,name:e.Header}})),onChangeHandler:j})]}),Object(f.c)("div",{children:[Object(f.b)("span",{children:"Select Y Axis:"}),Object(f.b)(P,{name:"yAxisColumn",data:t.map((function(e){return{value:e.accessor,name:e.Header}})),onChangeHandler:j})]})]}),Object(f.c)("div",{css:M,children:["line"===i.value&&Object(f.b)(A,{data:n,selectedColumn:d}),"bar"===i.value&&Object(f.b)(w,{data:n,selectedColumn:d}),"pie"===i.value&&Object(f.b)(k,{data:n,selectedColumn:d,optProps:{name:"It's Pie"}}),"line2"===i.value&&Object(f.b)(I,{data:n,selectedColumn:d}),"bar2"===i.value&&Object(f.b)(F,{data:n,selectedColumn:d}),"pie2"===i.value&&Object(f.b)(D,{data:n,selectedColumn:d,optProps:{name:"It's Pie"}})]})]})}var T=Object(v.a)(N||(N=Object(x.a)(["\n  margin-top: 12px;\n  text-align: center;\n"]))),J=Object(v.a)(L||(L=Object(x.a)(["\n  height: 34px;\n  border: 1px solid #d5d5d5;\n  border-radius: 6px;\n  padding: 0 12px;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.5;\n  cursor: pointer;\n  box-sizing: border-box;\n  position: relative;\n  &:hover {\n    color: green;\n  }\n  &:active {\n    color: pink;\n  }\n  &:focus {\n    color: #f10c0c;\n  }\n"]))),R=Object(v.a)(z||(z=Object(x.a)(["\n  color: #f10c0c;\n"])));var G=function(e){for(var t=[],n=Math.ceil(e.totalPosts/e.postsPerPage),c=1;c<=Math.ceil(e.totalPosts/e.postsPerPage);c++)t.push(c);var r=Object(a.useState)(0),i=Object(u.a)(r,2),o=i[0],s=i[1],l=Number(o*e.pageLimit),d=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=n+1;return t}(Number(e.maxPage)).slice(l,Number(e.pageLimit)+l),b=["<<","<",">",">>"];return Object(f.b)(f.a,{children:Object(f.c)("div",{css:T,children:[Object(f.c)("h3",{children:["\ud604\uc7ac\ud398\uc774\uc9c0 : ",Object(f.b)("span",{css:R,children:e.currentPage})]}),Object(f.b)("button",{css:J,onClick:function(){e.paginate(1),s(0)},children:b[0]}),Object(f.b)("button",{css:J,onClick:function(){e.currentPage<=1||(e.currentPage-1<=e.pageLimit*o&&s((function(e){return e-1})),e.paginate(e.currentPage-1>=1?e.currentPage-1:e.currentPage=1))},children:b[1]}),Object(f.b)("span",{className:"number",children:d.map((function(t){return Object(f.b)("button",{css:J,onClick:function(){return e.paginate(t)},children:t===e.currentPage?Object(f.b)("span",{css:R,children:t}):Object(f.b)("span",{children:t})},t)}))}),Object(f.b)("button",{css:J,onClick:function(){e.pageLimit*Number(o+1)<Number(e.currentPage+1)&&s((function(e){return e+1})),e.paginate(e.currentPage+1<n?e.currentPage+1:e.currentPage=n)},children:b[2]}),Object(f.b)("button",{css:J,onClick:function(){s(Math.ceil(e.maxPage/e.pageLimit)-1),e.paginate(n)},children:b[3]})]})})};var X=function(e){var t=e.maxPage,n=e.pageLimit,a=e.postsPerPage,c=e.totalPosts,r=e.paginate,i=e.indexOfFirst,o=e.currentPage;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(G,{maxPage:t,pageLimit:n,postsPerPage:a,totalPosts:c,paginate:r,indexOfFirst:i,currentPage:o})})},Y=new function e(){Object(d.a)(this,e),this.serverData=[],this.result=[],this.totalPage="",this.totalCount="",this.row=[],this.country_region_code=[],this.country_region=[],this.region=[],this.placeId=[],this.date=[],this.symptom_abdominal_obesityi=[]};var q=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(u.a)(r,2),o=i[0],d=i[1],b=Object(a.useState)(!1),p=Object(u.a)(b,2),h=p[0],g=p[1],x=Object(a.useState)(1),v=Object(u.a)(x,2),f=v[0],y=v[1],P=Object(a.useState)(30),_=Object(u.a)(P,2),A=_[0],w=(_[1],Y.result);function k(e,t){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(null),c(null),g(!0),e.next=6,j.a.get("http://localhost:8000/data?size=".concat(t,"&page=").concat(n));case 6:a=e.sent,c(a.data.result),Y.maxPage=Math.ceil,Y.serverData=a.data,Y.result=a.data.result,Y.totalCount=a.data.totalCount,Y.totalPage=a.data.totalPage,a.data.result.map((function(e){return Y.row.push(e.row)})),a.data.result.map((function(e){return Y.country_region_code.push(e.country_region_code)})),a.data.result.map((function(e){return Y.country_region.push(e.country_region)})),a.data.result.map((function(e){return Y.region.push(e.region)})),a.data.result.map((function(e){return Y.placeId.push(e.placeId)})),a.data.result.map((function(e){return Y.date.push(e.date)})),a.data.result.map((function(e){return Y.symptom_abdominal_obesityi.push(e.symptom_abdominal_obesityi)})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),d(e.t0);case 25:g(!1);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){k(1e3,1)}),[]),console.log("arrData.totalCount :",Y.totalCount),h)return Object(m.jsx)("div",{children:"\ub85c\ub529\uc911.."});if(o)return Object(m.jsx)("div",{children:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4"});if(!n)return null;var F=f*A,I=F-A;console.log("currentPage :",f);var H=n.length,N=Math.ceil(H/A);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"DataPage",children:[Object(m.jsx)("div",{children:Object(m.jsx)(C,{posts:function(e){var t;return t=e.slice(I,F),console.log("currentPage:",f),t}(n),loading:h})}),Object(m.jsx)("div",{children:Object(m.jsx)(X,{maxPage:N,pageLimit:"10",postsPerPage:A,totalPosts:n.length,paginate:y,indexOfFirst:I,currentPage:f})}),Object(m.jsx)("div",{children:Object(m.jsx)(O,{GetJsonData:k})}),Object(m.jsx)("div",{children:Object(m.jsx)(E,{columns:[{accessor:"row",Header:"row"},{accessor:"country_region_code",Header:"country_region_code"},{accessor:"country_region",Header:"country_region"},{accessor:"region",Header:"region"},{accessor:"placeId",Header:"placeId"},{accessor:"date",Header:"date"},{accessor:"symptom_abdominal_obesityi",Header:"symptom_abdominal_obesityi"}],data:w})})]})})};var K=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h3",{children:"React"})}),Object(m.jsx)("p",{children:Object(m.jsx)(q,{})}),Object(m.jsx)("p",{}),Object(m.jsx)("p",{})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(K,{})}),document.getElementById("root")),Q()}},[[71,1,2]]]);
//# sourceMappingURL=main.c3bcfcb4.chunk.js.map